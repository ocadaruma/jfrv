(function(){"use strict";var e={6515:function(e,t,n){var r=n(9242),o=n(3396);const a={class:"h-12 fixed top-0 left-0 z-50 w-full bg-white border-b border-slate-400"},i={class:"h-8 m-2 flex space-x-2"},l=(0,o._)("span",{class:"align-middle"},"execution sample",-1),u=(0,o._)("a",{href:"https://github.com/ocadaruma/jfrv",target:"_blank",class:"absolute h-7 border-2 border-slate-500 pl-2 pr-2 right-2"},"ðŸ“– docs",-1),c={class:"fixed top-12 left-0 right-0 bottom-0"};function s(e,t){const n=(0,o.up)("router-link"),r=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",a,[(0,o._)("nav",i,[(0,o.Wm)(n,{to:"/execution-sample",class:"hover:bg-slate-300 flex-none pl-2 pr-2 h-7 text-sm text-center border-2 rounded border-slate-400"},{default:(0,o.w5)((()=>[l])),_:1}),u])]),(0,o._)("div",c,[(0,o.Wm)(r)])])}var f=n(89);const d={},v=(0,f.Z)(d,[["render",s]]);var p=v,h=n(2483),m=(n(8675),n(3462),n(7380),n(1118),n(4870)),b=n(7139),g=n(3581),y=n(8430);const w={class:"fixed top-12 left-0 right-0 h-12 bg-neutral-100 z-40 border-b border-slate-400 p-2"},_=(0,o._)("span",{class:"h-7 ml-2"},"thread name:",-1),x=(0,o._)("div",{class:"flex flex-col space-x-2"},null,-1),k={class:"absolute top-12 right-0 left-0 bottom-0"},S={class:"w-full h-full"},j={ref:"header-overlay",id:"header-overlay",class:"absolute top-0 left-0 pointer-events-none",width:"0",height:"0"},C={ref:"chart-overlay",id:"chart-overlay",class:"absolute top-0 left-0 pointer-events-none",width:"0",height:"0"},H={key:0},O={key:0},R={key:1},U={key:0,class:"fixed w-72 h-24 bg-neutral-200 border-neutral-500 p-2 border-2 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"};var E=(0,o.aZ)({__name:"ExecutionSample",setup(e){const t={defaultMargin:1,fontSize:14,headerConfig:{borderWidth:1,borderColorRgbHex:7368816,elementId:"header",overlayElementId:"header-overlay"},sampleViewConfig:{elementId:"thread-chart-sample-view",overlayElementId:"chart-overlay",sampleRenderSize:{width:6,height:8},backgroundRgbHex:16119285},threadStateColorConfig:{stateRunnableRgbHex:7125534,stateSleepingRgbHex:8737986,stateUnknownRgbHex:7302514},overlayConfig:{rowHighlightArgbHex:1077952576,sampleHighlightRgbHex:15745140}},a=(0,m.iH)(),i=(0,m.iH)(),l=(0,m.iH)(),u=(0,m.iH)(),c=(0,m.iH)(),s=(0,m.iH)(),f=(0,m.iH)(),d=(0,m.iH)(),{getRootProps:v,getInputProps:p,isDragActive:h,open:E}=(0,y.u)({onDrop:z,multiple:!1,noClick:!0,noKeyboard:!0,accept:".jfr"});function D(){d.value&&(void 0!==f.value&&f.value?.length>0?a.value?.apply_filter({threadNameRegex:f.value}):a.value?.apply_filter({threadNameRegex:null}))}function P(){const e=a.value?.on_chart_click();i.value=e?.frames}function W(e){a.value?.on_header_mouse_move(e.clientX-c.value.getBoundingClientRect().x,e.clientY-c.value.getBoundingClientRect().y)}function A(e){a.value?.on_chart_mouse_move(e.clientX-s.value.getBoundingClientRect().x,e.clientY-s.value.getBoundingClientRect().y)}function T(){a.value?.on_mouse_out()}async function z(e,t){d.value="loading";const n=await e[0].arrayBuffer(),r=new Uint8Array(n);await B(r)}async function M(){d.value="loading";const e=await fetch("/jfrv/demo.jfr"),t=await e.arrayBuffer(),n=new Uint8Array(t);await B(n)}async function B(e){f.value=void 0;try{a.value?.initialize(e),a.value?.render()}catch(t){throw d.value=void 0,t}d.value="loaded"}(0,o.bv)((async()=>{const e=await n.e(672).then(n.bind(n,7672));a.value=new e.Renderer(t)}));const I=e=>{const t=l.value?.$el,n=u.value?.$el;"header"===e&&(n.scrollTop=t.scrollTop),"chart"===e&&(t.scrollTop=n.scrollTop)};return(e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",w,[(0,o._)("button",{class:"hover:bg-slate-300 w-24 h-7 text-sm text-center border-2 rounded border-slate-400",onClick:t[0]||(t[0]=(...e)=>(0,m.SU)(E)&&(0,m.SU)(E)(...e))},"open file"),(0,o._)("button",{class:"hover:bg-slate-300 w-24 h-7 text-sm text-center border-2 border-slate-500 absolute right-2",onClick:M},"load demo"),_,(0,o.wy)((0,o._)("input",{class:"h-7",type:"text",placeholder:"regex","onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),onChange:D},null,544),[[r.nr,f.value]]),(0,o._)("input",(0,b.vs)((0,o.F4)((0,m.SU)(p)())),null,16),x]),(0,o._)("div",k,[(0,o.Wm)((0,m.SU)(g.F),(0,o.dG)({class:"default-theme text-sm",horizontal:""},(0,m.SU)(v)()),{default:(0,o.w5)((()=>[(0,o.Wm)((0,m.SU)(g.X),null,{default:(0,o.w5)((()=>[(0,o._)("div",S,[(0,o.Wm)((0,m.SU)(g.F),{vertical:""},{default:(0,o.w5)((()=>[(0,o.Wm)((0,m.SU)(g.X),{size:"25",class:"overflow-x-hidden overflow-y-auto scrollbar-none relative",onScroll:t[2]||(t[2]=e=>I("header")),ref_key:"headerPane",ref:l},{default:(0,o.w5)((()=>[(0,o._)("canvas",j,null,512),((0,o.wg)(),(0,o.iD)("svg",{ref_key:"header",ref:c,id:"header",class:"absolute top-0 left-0",onMousemove:W,onMouseout:T,width:"0",height:"0"},null,544))])),_:1},512),(0,o.Wm)((0,m.SU)(g.X),{class:"overflow-auto relative",onScroll:t[3]||(t[3]=e=>I("chart")),ref_key:"chartPane",ref:u},{default:(0,o.w5)((()=>[(0,o._)("canvas",C,null,512),(0,o._)("canvas",{ref_key:"chart",ref:s,id:"thread-chart-sample-view",onMousemove:A,onMouseout:T,onClick:P,class:"bg-slate-100",width:"0",height:"0"},null,544),d.value?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",H,[(0,m.SU)(h)?((0,o.wg)(),(0,o.iD)("p",O,"Drop here ...")):((0,o.wg)(),(0,o.iD)("p",R,'Drag & drop OR press "open file" to select JFR file'))]))])),_:1},512)])),_:1})])])),_:1}),(0,o.Wm)((0,m.SU)(g.X),{size:"40",class:"overflow-auto"},{default:(0,o.w5)((()=>[(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.value,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"flex flex-col space-x-2 text-sm",key:t},(0,b.zw)(e.typeName)+"@"+(0,b.zw)(e.methodName),1)))),128))])])),_:1})])),_:1},16)]),"loading"===d.value?((0,o.wg)(),(0,o.iD)("div",U,"Loading...")):(0,o.kq)("",!0)],64))}});const D=E;var P=D;const W=[{path:"/",redirect:"/execution-sample"},{path:"/execution-sample",name:"execution-sample",component:P}],A=(0,h.p7)({history:(0,h.r5)("/jfrv/"),routes:W});var T=A;(0,r.ri)(p).use(T).mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=function(e){e&&!e.d&&(e.d=1,e.forEach((function(e){e.r--})),e.forEach((function(e){e.r--?e.r++:e()})))},a=function(n){return n.map((function(n){if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var a=[];a.d=0,n.then((function(e){i[t]=e,o(a)}),(function(e){i[r]=e,o(a)}));var i={};return i[e]=function(e){e(a)},i}}var l={};return l[e]=function(){},l[t]=n,l}))};n.a=function(n,i,l){var u;l&&((u=[]).d=1),u&&(u.moduleId=n.id);var c,s,f,d=new Set,v=n.exports,p=new Promise((function(e,t){f=t,s=e}));p[t]=v,p[e]=function(e){u&&e(u),d.forEach(e),p["catch"]((function(){}))},p.moduleId=n.id,n.exports=p,i((function(n){var o;c=a(n);var i=function(){return c.map((function(e){if(e[r])throw e[r];return e[t]}))},l=new Promise((function(t){o=function(){t(i)},o.r=0;var n=function(e){e!==u&&!d.has(e)&&(d.add(e),e&&!e.d&&(o.r++,e.push(o)))};c.map((function(t){t[e](n)}))}));return o.r?l:i()}),(function(e){e?f(p[r]=e):s(v),o(u)})),u&&(u.d=0)}}(),function(){var e=[];n.O=function(t,r,o,a){if(!r){var i=1/0;for(s=0;s<e.length;s++){r=e[s][0],o=e[s][1],a=e[s][2];for(var l=!0,u=0;u<r.length;u++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(l=!1,a<i&&(i=a));if(l){e.splice(s--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+".fafc49ea.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="jfrv:";n.l=function(r,o,a,i){if(e[r])e[r].push(o);else{var l,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var f=c[s];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){l=f;break}}l||(u=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+a),l.src=r),e[r]=[o];var d=function(t,n){l.onerror=l.onload=null,clearTimeout(v);var o=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((function(e){return e(n)})),t)return t(n)},v=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),u&&document.head.appendChild(l)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.v=function(e,t,r,o){var a=fetch(n.p+""+r+".module.wasm");return"function"===typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(a,o).then((function(t){return Object.assign(e,t.instance.exports)})):a.then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,o)})).then((function(t){return Object.assign(e,t.instance.exports)}))}}(),function(){n.p="/jfrv/"}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=a);var i=n.p+n.u(t),l=new Error,u=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,o[1](l)}};n.l(i,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,i=r[0],l=r[1],u=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(u)var s=u(n)}for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(s)},r=self["webpackChunkjfrv"]=self["webpackChunkjfrv"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(6515)}));r=n.O(r)})();
//# sourceMappingURL=app.df5239e7.js.map