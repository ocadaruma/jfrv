(function(){"use strict";var e={704:function(e,t,l){var a=l(9242),n=l(3396);const o=e=>((0,n.dD)("data-v-6fd9328d"),e=e(),(0,n.Cn)(),e),r={class:"h-12 fixed top-0 left-0 z-50 w-full bg-white border-b border-slate-400"},i={class:"h-8 m-2 flex space-x-2"},u=o((()=>(0,n._)("span",{class:"align-middle"},"execution sample",-1))),s=o((()=>(0,n._)("span",{class:"align-middle"},"offcpu (jvm-blocking-monitor)",-1))),c=o((()=>(0,n._)("a",{href:"https://github.com/ocadaruma/jfrv",target:"_blank",class:"absolute h-7 border-2 border-slate-500 pl-2 pr-2 right-2"},"ðŸ“– docs",-1))),d={class:"fixed top-12 left-0 right-0 bottom-0"};function f(e,t){const l=(0,n.up)("router-link"),a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",r,[(0,n._)("nav",i,[(0,n.Wm)(l,{to:"/execution-sample",class:"hover:bg-slate-300 flex-none pl-2 pr-2 h-7 text-sm text-center border-2 rounded border-slate-400"},{default:(0,n.w5)((()=>[u])),_:1}),(0,n.Wm)(l,{to:"/jbm",class:"hover:bg-slate-300 flex-none pl-2 pr-2 h-7 text-sm text-center border-2 rounded border-slate-400"},{default:(0,n.w5)((()=>[s])),_:1}),c])]),(0,n._)("div",d,[(0,n.Wm)(a,null,{default:(0,n.w5)((({Component:e})=>[((0,n.wg)(),(0,n.j4)(n.Ob,null,[((0,n.wg)(),(0,n.j4)((0,n.LL)(e)))],1024))])),_:1})])])}var v=l(89);const h={},p=(0,v.Z)(h,[["render",f],["__scopeId","data-v-6fd9328d"]]);var g=p,m=l(2483),b=(l(8675),l(3462),l(7380),l(1118),l(4870)),w=l(7139),_=l(3581),y=l(8430);const x={class:"fixed top-12 left-0 right-0 h-12 bg-neutral-100 z-40 border-b border-slate-400 p-2"},k=(0,n._)("span",{class:"h-7 ml-2"},"thread name:",-1),j=(0,n._)("div",{class:"flex flex-col space-x-2"},null,-1),S={class:"absolute top-12 right-0 left-0 bottom-0"},H={class:"w-full h-full"},C={ref:"header-overlay",id:"header-overlay",class:"absolute top-0 left-0 pointer-events-none",width:"0",height:"0"},R={ref:"chart-overlay",id:"chart-overlay",class:"absolute top-0 left-0 pointer-events-none",width:"0",height:"0"},U={key:0},D={key:0},O={key:1},z={class:"p-2"},W={key:0,class:"fixed w-72 h-24 bg-neutral-200 border-neutral-500 p-2 border-2 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"};var P=(0,n.aZ)({__name:"ExecutionSample",setup(e){const t={defaultMargin:1,fontSize:14,headerConfig:{borderWidth:1,borderColorRgbHex:7368816,elementId:"header",overlayElementId:"header-overlay"},sampleViewConfig:{elementId:"thread-chart-sample-view",overlayElementId:"chart-overlay",sampleRenderSize:{width:6,height:8},backgroundRgbHex:16119285},threadStateColorConfig:{stateRunnableRgbHex:7125534,stateSleepingRgbHex:8737986,stateUnknownRgbHex:7302514},overlayConfig:{rowHighlightArgbHex:1077952576,sampleHighlightRgbHex:15745140}},o=(0,b.iH)(),r=(0,b.iH)(),i=(0,b.iH)(),u=(0,b.iH)(),s=(0,b.iH)(),c=(0,b.iH)(),d=(0,b.iH)(),f=(0,b.iH)(),{getRootProps:v,getInputProps:h,isDragActive:p,open:g}=(0,y.u)({onDrop:X,multiple:!1,noClick:!0,noKeyboard:!0,accept:".jfr"});function m(){f.value&&(void 0!==d.value&&d.value?.length>0?o.value?.apply_filter({threadNameRegex:d.value}):o.value?.apply_filter({threadNameRegex:null}))}function P(){const e=o.value?.on_chart_click();r.value=e?.frames}function M(e){o.value?.on_header_mouse_move(e.clientX-s.value.getBoundingClientRect().x,e.clientY-s.value.getBoundingClientRect().y)}function T(e){o.value?.on_chart_mouse_move(e.clientX-c.value.getBoundingClientRect().x,e.clientY-c.value.getBoundingClientRect().y)}function B(){o.value?.on_mouse_out()}async function X(e,t){f.value="loading";const l=await e[0].arrayBuffer(),a=new Uint8Array(l);await A(a)}async function E(){f.value="loading";const e=await fetch("/jfrv/demo.jfr"),t=await e.arrayBuffer(),l=new Uint8Array(t);await A(l)}async function A(e){d.value=void 0;try{o.value?.initialize(e),o.value?.render()}catch(t){throw f.value=void 0,t}f.value="loaded"}(0,n.bv)((async()=>{const e=await l.e(672).then(l.t.bind(l,7672,23));o.value=new e.Renderer(t)}));const N=e=>{const t=i.value?.$el,l=u.value?.$el;"header"===e&&(l.scrollTop=t.scrollTop),"chart"===e&&(t.scrollTop=l.scrollTop)};return(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",x,[(0,n._)("button",{class:"hover:bg-slate-300 w-24 h-7 text-sm text-center border-2 rounded border-slate-400",onClick:t[0]||(t[0]=(...e)=>(0,b.SU)(g)&&(0,b.SU)(g)(...e))},"open file"),(0,n._)("button",{class:"hover:bg-slate-300 w-24 h-7 text-sm text-center border-2 border-slate-500 absolute right-2",onClick:E},"load demo"),k,(0,n.wy)((0,n._)("input",{class:"h-7",type:"text",placeholder:"regex","onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),onChange:m},null,544),[[a.nr,d.value]]),(0,n._)("input",(0,w.vs)((0,n.F4)((0,b.SU)(h)())),null,16),j]),(0,n._)("div",S,[(0,n.Wm)((0,b.SU)(_.F),(0,n.dG)({class:"default-theme text-sm",horizontal:""},(0,b.SU)(v)()),{default:(0,n.w5)((()=>[(0,n.Wm)((0,b.SU)(_.X),null,{default:(0,n.w5)((()=>[(0,n._)("div",H,[(0,n.Wm)((0,b.SU)(_.F),{vertical:""},{default:(0,n.w5)((()=>[(0,n.Wm)((0,b.SU)(_.X),{size:"25",class:"overflow-x-hidden overflow-y-auto scrollbar-none relative",onScroll:t[2]||(t[2]=e=>N("header")),ref_key:"headerPane",ref:i},{default:(0,n.w5)((()=>[(0,n._)("canvas",C,null,512),((0,n.wg)(),(0,n.iD)("svg",{ref_key:"header",ref:s,id:"header",class:"absolute top-0 left-0",onMousemove:M,onMouseout:B,width:"0",height:"0"},null,544))])),_:1},512),(0,n.Wm)((0,b.SU)(_.X),{class:"overflow-auto relative",onScroll:t[3]||(t[3]=e=>N("chart")),ref_key:"chartPane",ref:u},{default:(0,n.w5)((()=>[(0,n._)("canvas",R,null,512),(0,n._)("canvas",{ref_key:"chart",ref:c,id:"thread-chart-sample-view",onMousemove:T,onMouseout:B,onClick:P,class:"bg-slate-100",width:"0",height:"0"},null,544),f.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",U,[(0,b.SU)(p)?((0,n.wg)(),(0,n.iD)("p",D,"Drop here ...")):((0,n.wg)(),(0,n.iD)("p",O,'Drag & drop OR press "open file" to select JFR file'))]))])),_:1},512)])),_:1})])])),_:1}),(0,n.Wm)((0,b.SU)(_.X),{size:"40",class:"overflow-auto"},{default:(0,n.w5)((()=>[(0,n._)("div",z,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.value,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"flex flex-col space-x-2 text-sm",key:t},(0,w.zw)(e.typeName)+"@"+(0,w.zw)(e.methodName),1)))),128))])])),_:1})])),_:1},16)]),"loading"===f.value?((0,n.wg)(),(0,n.iD)("div",W,"Loading...")):(0,n.kq)("",!0)],64))}});const M=P;var T=M;const B={class:"fixed top-12 left-0 right-0 h-12 bg-neutral-100 z-40 border-b border-slate-400 p-2"},X=(0,n._)("span",{class:"h-7 ml-2"},"thread name:",-1),E=(0,n._)("div",{class:"flex flex-col space-x-2"},null,-1),A={class:"absolute top-12 right-0 left-0 bottom-0"},N={class:"w-full h-full"},I={ref:"header-overlay",id:"jbm-header-overlay",class:"absolute top-0 left-0 pointer-events-none",width:"0",height:"0"},F={ref:"chart-overlay",id:"jbm-chart-overlay",class:"absolute top-0 left-0 pointer-events-none",width:"0",height:"0"},Y={key:0},L={key:0},q={key:1},K={class:"w-full h-full"},V={class:"p-2"},$={class:"h-full p-2 overflow-auto"},J={class:"table-auto whitespace-nowrap"},Z=(0,n._)("td",{class:"text-right"},"thread :",-1),G=(0,n._)("td",{class:"text-right"},"offcpu start :",-1),Q=(0,n._)("td",{class:"text-right"},"offcpu end :",-1),ee=(0,n._)("td",{class:"text-right"},"duration (ms) :",-1),te={key:0,class:"fixed w-72 h-24 bg-neutral-200 border-neutral-500 p-2 border-2 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"};var le=(0,n.aZ)({__name:"JvmBlockingMonitor",setup(e){const t={defaultMargin:1,fontSize:14,headerConfig:{borderWidth:1,borderColorRgbHex:7368816,elementId:"jbm-header",overlayElementId:"jbm-header-overlay"},sampleViewConfig:{elementId:"jbm-thread-chart-sample-view",overlayElementId:"jbm-chart-overlay",sampleRenderHeight:8,sampleWidthPerHour:256,backgroundRgbHex:16119285},threadStateColorConfig:{stateRunnableRgbHex:7125534,stateSleepingRgbHex:8737986,stateUnknownRgbHex:7302514},overlayConfig:{rowHighlightArgbHex:1077952576,sampleHighlightRgbHex:15745140}},o=(0,b.iH)(),r=(0,b.iH)(),i=(0,b.iH)(),u=(0,b.iH)(),s=(0,b.iH)(),c=(0,b.iH)(),d=(0,b.iH)(),f=(0,b.iH)(),{getRootProps:v,getInputProps:h,isDragActive:p,open:g}=(0,y.u)({onDrop:H,multiple:!1,noClick:!0,noKeyboard:!0});function m(){f.value&&(void 0!==d.value&&d.value?.length>0?o.value?.apply_filter({threadNameRegex:d.value}):o.value?.apply_filter({threadNameRegex:null}))}function x(){r.value=o.value?.on_chart_click()}function k(e){o.value?.on_header_mouse_move(e.clientX-s.value.getBoundingClientRect().x,e.clientY-s.value.getBoundingClientRect().y)}function j(e){o.value?.on_chart_mouse_move(e.clientX-c.value.getBoundingClientRect().x,e.clientY-c.value.getBoundingClientRect().y)}function S(){o.value?.on_mouse_out()}async function H(e,t){f.value="loading";const l=await e[0].arrayBuffer(),a=new Uint8Array(l);await R(a)}async function C(){f.value="loading";const e=await fetch("/jfrv/jbm.log"),t=await e.arrayBuffer(),l=new Uint8Array(t);await R(l)}async function R(e){d.value=void 0;try{o.value?.initialize(e),o.value?.render()}catch(t){throw f.value=void 0,t}f.value="loaded"}(0,n.bv)((async()=>{const e=await l.e(672).then(l.t.bind(l,7672,23));o.value=new e.JbmRenderer(t)}));const U=e=>{const t=i.value?.$el,l=u.value?.$el;"header"===e&&(l.scrollTop=t.scrollTop),"chart"===e&&(t.scrollTop=l.scrollTop)};return(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",B,[(0,n._)("button",{class:"hover:bg-slate-300 w-24 h-7 text-sm text-center border-2 rounded border-slate-400",onClick:t[0]||(t[0]=(...e)=>(0,b.SU)(g)&&(0,b.SU)(g)(...e))},"open file"),(0,n._)("button",{class:"hover:bg-slate-300 w-24 h-7 text-sm text-center border-2 border-slate-500 absolute right-2",onClick:C},"load demo"),X,(0,n.wy)((0,n._)("input",{class:"h-7",type:"text",placeholder:"regex","onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),onChange:m},null,544),[[a.nr,d.value]]),(0,n._)("input",(0,w.vs)((0,n.F4)((0,b.SU)(h)())),null,16),E]),(0,n._)("div",A,[(0,n.Wm)((0,b.SU)(_.F),(0,n.dG)({class:"default-theme text-sm",horizontal:""},(0,b.SU)(v)()),{default:(0,n.w5)((()=>[(0,n.Wm)((0,b.SU)(_.X),null,{default:(0,n.w5)((()=>[(0,n._)("div",N,[(0,n.Wm)((0,b.SU)(_.F),{vertical:""},{default:(0,n.w5)((()=>[(0,n.Wm)((0,b.SU)(_.X),{size:"25",class:"overflow-x-hidden overflow-y-auto scrollbar-none relative",onScroll:t[2]||(t[2]=e=>U("header")),ref_key:"headerPane",ref:i},{default:(0,n.w5)((()=>[(0,n._)("canvas",I,null,512),((0,n.wg)(),(0,n.iD)("svg",{ref_key:"header",ref:s,id:"jbm-header",class:"absolute top-0 left-0",onMousemove:k,onMouseout:S,width:"0",height:"0"},null,544))])),_:1},512),(0,n.Wm)((0,b.SU)(_.X),{class:"overflow-auto relative",onScroll:t[3]||(t[3]=e=>U("chart")),ref_key:"chartPane",ref:u},{default:(0,n.w5)((()=>[(0,n._)("canvas",F,null,512),(0,n._)("canvas",{ref_key:"chart",ref:c,id:"jbm-thread-chart-sample-view",onMousemove:j,onMouseout:S,onClick:x,class:"bg-slate-100",width:"0",height:"0"},null,544),f.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Y,[(0,b.SU)(p)?((0,n.wg)(),(0,n.iD)("p",L,"Drop here ...")):((0,n.wg)(),(0,n.iD)("p",q,'Drag & drop OR press "open file" to select jbm log file'))]))])),_:1},512)])),_:1})])])),_:1}),(0,n.Wm)((0,b.SU)(_.X),{size:"40"},{default:(0,n.w5)((()=>[(0,n._)("div",K,[(0,n.Wm)((0,b.SU)(_.F),{vertical:""},{default:(0,n.w5)((()=>[(0,n.Wm)((0,b.SU)(_.X),{size:"75",class:"overflow-auto"},{default:(0,n.w5)((()=>[(0,n._)("div",V,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.value?.stackTrace?.frames,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"flex flex-col space-x-2 text-sm",key:t},(0,w.zw)(e.methodName),1)))),128))])])),_:1}),(0,n.Wm)((0,b.SU)(_.X),null,{default:(0,n.w5)((()=>[(0,n._)("div",$,[(0,n._)("table",J,[(0,n._)("tbody",null,[(0,n._)("tr",null,[Z,(0,n._)("td",null,(0,w.zw)(r.value?.threadName),1)]),(0,n._)("tr",null,[G,(0,n._)("td",null,(0,w.zw)(r.value?.offcpuStart),1)]),(0,n._)("tr",null,[Q,(0,n._)("td",null,(0,w.zw)(r.value?.offcpuEnd),1)]),(0,n._)("tr",null,[ee,(0,n._)("td",null,(0,w.zw)(r.value?.durationMillis),1)])])])])])),_:1})])),_:1})])])),_:1})])),_:1},16)]),"loading"===f.value?((0,n.wg)(),(0,n.iD)("div",te,"Loading...")):(0,n.kq)("",!0)],64))}});const ae=le;var ne=ae;const oe=[{path:"/",redirect:"/execution-sample"},{path:"/execution-sample",name:"execution-sample",component:T},{path:"/jbm",name:"jbm",component:ne}],re=(0,m.p7)({history:(0,m.r5)("/jfrv/"),routes:oe});var ie=re;(0,a.ri)(g).use(ie).mount("#app")}},t={};function l(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,l),o.exports}l.m=e,function(){var e=[];l.O=function(t,a,n,o){if(!a){var r=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],o=e[c][2];for(var i=!0,u=0;u<a.length;u++)(!1&o||r>=o)&&Object.keys(l.O).every((function(e){return l.O[e](a[u])}))?a.splice(u--,1):(i=!1,o<r&&(r=o));if(i){e.splice(c--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,n,o]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};l.t=function(a,n){if(1&n&&(a=this(a)),8&n)return a;if("object"===typeof a&&a){if(4&n&&a.__esModule)return a;if(16&n&&"function"===typeof a.then)return a}var o=Object.create(null);l.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){r[e]=function(){return a[e]}}));return r["default"]=function(){return a},l.d(o,r),o}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(t,a){return l.f[a](e,t),t}),[]))}}(),function(){l.u=function(e){return"js/"+e+".f483fe80.js"}}(),function(){l.miniCssF=function(e){}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="jfrv:";l.l=function(a,n,o,r){if(e[a])e[a].push(n);else{var i,u;if(void 0!==o)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var d=s[c];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+o){i=d;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.setAttribute("data-webpack",t+o),i.src=a),e[a]=[n];var f=function(t,l){i.onerror=i.onload=null,clearTimeout(v);var n=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(l)})),t)return t(l)},v=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/jfrv/"}(),function(){var e={143:0};l.f.j=function(t,a){var n=l.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var o=new Promise((function(l,a){n=e[t]=[l,a]}));a.push(n[2]=o);var r=l.p+l.u(t),i=new Error,u=function(a){if(l.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",i.name="ChunkLoadError",i.type=o,i.request=r,n[1](i)}};l.l(r,u,"chunk-"+t,t)}},l.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,r=a[0],i=a[1],u=a[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)l.o(i,n)&&(l.m[n]=i[n]);if(u)var c=u(l)}for(t&&t(a);s<r.length;s++)o=r[s],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(c)},a=self["webpackChunkjfrv"]=self["webpackChunkjfrv"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[998],(function(){return l(704)}));a=l.O(a)})();
//# sourceMappingURL=app.db1ebdf6.js.map